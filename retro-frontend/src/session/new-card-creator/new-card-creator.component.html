<div class="w-screen h-screen flex items-center justify-center">

  <div class="flex flex-col">
    <app-header>
      Create new card
    </app-header>

    <div class="mb-5">
      <span *ngFor="let container of containers"
            class="bg-gray-50 dark:bg-gray-500 dark:text-gray-200 px-3 py-1 rounded-full mr-2 cursor-pointer"
            [class.bg-indigo-500]="selectedContainer === container.hash"
            [class.dark:bg-gray-800]="selectedContainer === container.hash"
            [class.text-white]="selectedContainer === container.hash"
            (click)="setSelectedContainer(container.hash)">
        {{ container.name }}
      </span>
    </div>

    <textarea #input
              class="p-3 border-2 mb-5 rounded dark:border-gray-800 dark:bg-gray-800 dark:text-gray-200"
              style="width: 600px; height: 400px;"
              (keydown)="checkSave($event)"
              (keyup)="setPreview(input)"></textarea>

    <div class="flex justify-between items-center">
      <app-shortcut-label shortcut="Ctrl + Enter" description="to create"></app-shortcut-label>
      <div>
        <app-button class="mr-3"
                    [alternative]="true"
                    routerLink="../">
          Go back to board
        </app-button>
        <app-button (click)="createCard(input)">
          <app-save-label #saveLabel (saved)="onSaved()" text="Create card"></app-save-label>
        </app-button>
      </div>
    </div>
  </div>

  <div *ngIf="preview" class="h-1/3 mx-20 border dark:border-gray-600"></div>

  <div *ngIf="preview"
       class="bg-gray-50 dark:bg-gray-600 rounded-2xl p-3"
       style="width: 400px;">
    <div class="mb-3">
      <app-pill>
        {{ getSelectedContainerText() }}
      </app-pill>
    </div>
    <app-card [text]="preview"></app-card>
  </div>

</div>
